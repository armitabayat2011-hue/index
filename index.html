<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8" />
<title>Ø¢Ø²Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡ Ø§Ø­ØªÙ…Ø§Ù„ â€” Ù†Ø³Ø®Ù‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
<style>
    body {
        background: radial-gradient(circle at top, #0f0f2d, #000);
        color: #d9e6ff;
        font-family: "IRANSans", sans-serif;
        direction: rtl;
        padding: 20px;
        text-align: center;
    }
    h1 {
        color: #8ab4ff;
        text-shadow: 0 0 10px #345bff;
    }
    .card {
        background: rgba(255,255,255,0.07);
        border: 1px solid rgba(120,150,255,0.25);
        border-radius: 20px;
        padding: 20px;
        margin: 25px auto;
        width: 90%;
        max-width: 600px;
        box-shadow: 0 0 30px rgba(0,0,80,0.6);
        backdrop-filter: blur(10px);
    }
    button {
        background: #345bff;
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-size: 15px;
        box-shadow: 0 0 15px #345bffaa;
        transition: 0.2s;
    }
    button:hover { transform: scale(1.05); }
    input {
        background: rgba(255,255,255,0.15);
        border: none;
        padding: 8px;
        border-radius: 8px;
        color: #fff;
        width: 80px;
        margin: 5px;
        text-align: center;
    }

    /* ØªØ§Ø³ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ */
    .dice-container {
        perspective: 700px;
        margin: 20px auto;
        height: 120px;
    }
    .dice {
        width: 80px;
        height: 80px;
        position: relative;
        margin: auto;
        transform-style: preserve-3d;
        transition: transform 1s ease-out;
    }
    .face {
        position: absolute;
        width: 80px;
        height: 80px;
        border-radius: 10px;
        background: rgba(255,255,255,0.15);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 32px;
        color: white;
        text-shadow: 0 0 10px #fff;
        border: 1px solid rgba(255,255,255,0.3);
    }
    .face:nth-child(1) { transform: rotateY(0deg) translateZ(40px); }
    .face:nth-child(2) { transform: rotateY(90deg) translateZ(40px); }
    .face:nth-child(3) { transform: rotateY(180deg) translateZ(40px); }
    .face:nth-child(4) { transform: rotateY(-90deg) translateZ(40px); }
    .face:nth-child(5) { transform: rotateX(90deg) translateZ(40px); }
    .face:nth-child(6) { transform: rotateX(-90deg) translateZ(40px); }

    canvas {
        margin-top: 20px;
        background: #0f1a3a;
        border-radius: 15px;
        width: 90%;
        max-width: 450px;
    }
</style>
</head>
<body>

<h1>ğŸ”¥ Ø¢Ø²Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡ Ø§Ø­ØªÙ…Ø§Ù„ â€” Ù†Ø³Ø®Ù‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h1>

<!-- Ø³Ú©Ù‡ -->
<div class="card">
    <h2>ğŸª™ Ø³Ú©Ù‡ Ù†Ø¦ÙˆÙ†ÛŒ</h2>
    ØªØ¹Ø¯Ø§Ø¯ Ø¢Ø²Ù…Ø§ÛŒØ´:
    <input id="coinTrials" type="number" value="500">
    <button onclick="runCoin()">Ø§Ø¬Ø±Ø§</button>
    <p id="coinResult"></p>
    <canvas id="coinChart" height="200"></canvas>
</div>

<!-- ØªØ§Ø³ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ -->
<div class="card">
    <h2>ğŸ² ØªØ§Ø³ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ Ù†Ø¦ÙˆÙ†ÛŒ</h2>
    ØªØ¹Ø¯Ø§Ø¯ Ø¢Ø²Ù…Ø§ÛŒØ´:
    <input id="diceTrials" type="number" value="300">
    <button onclick="roll3DDice()">Ø§Ø¬Ø±Ø§</button>

    <div class="dice-container">
        <div class="dice" id="dice3D">
            <div class="face">1</div>
            <div class="face">2</div>
            <div class="face">3</div>
            <div class="face">4</div>
            <div class="face">5</div>
            <div class="face">6</div>
        </div>
    </div>

    <p id="diceResult"></p>
    <canvas id="diceChart" height="200"></canvas>
</div>

<!-- Ú©ÛŒØ³Ù‡ ØªÙˆÙ¾â€ŒÙ‡Ø§ -->
<div class="card">
    <h2>âšª Ú©ÛŒØ³Ù‡ ØªÙˆÙ¾â€ŒÙ‡Ø§ (Ù†Ø¦ÙˆÙ†ÛŒ)</h2>
    Ù‚Ø±Ù…Ø² <input id="red" type="number" value="3">
    Ø¢Ø¨ÛŒ <input id="blue" type="number" value="3">
    Ø³Ø¨Ø² <input id="green" type="number" value="3">
    <br><br>
    ØªØ¹Ø¯Ø§Ø¯ Ø¢Ø²Ù…Ø§ÛŒØ´:
    <input id="bagTrials" type="number" value="400">
    <button onclick="runBag()">Ø§Ø¬Ø±Ø§</button>

    <p id="bagResult"></p>
    <canvas id="bagChart" height="200"></canvas>
</div>

<script>
function drawChart(canvasId, labels, data) {
    const c = document.getElementById(canvasId);
    const ctx = c.getContext("2d");
    ctx.clearRect(0,0,c.width,c.height);

    const max = Math.max(...data);
    const barW = 40;
    const gap = 30;
    let x = 30;

    data.forEach((v,i)=>{
        const h = (v/max)*150;

        ctx.fillStyle = "#6e8bff";
        ctx.shadowColor = "#6e8bff";
        ctx.shadowBlur = 20;
        ctx.fillRect(x,180-h,barW,h);

        ctx.shadowBlur = 0;
        ctx.fillStyle = "#d9e6ff";
        ctx.fillText(labels[i], x+10,195);
        ctx.fillText(v, x+10,160-h);

        x += barW + gap;
    });
}

//------------------ Ø³Ú©Ù‡ ------------------
function runCoin(){
    const t = parseInt(document.getElementById("coinTrials").value);
    let heads = 0;
    for(let i=0;i<t;i++) if(Math.random()<0.5) heads++;
    const tails = t - heads;

    document.getElementById("coinResult").innerText =
        `Ø´ÛŒØ±: ${heads} | Ø®Ø·: ${tails}`;

    drawChart("coinChart", ["Ø´ÛŒØ±","Ø®Ø·"], [heads,tails]);
}

//------------------ ØªØ§Ø³ 3D ------------------
function roll3DDice(){
    const dice = document.getElementById("dice3D");
    const t = parseInt(document.getElementById("diceTrials").value);

    const counts = [0,0,0,0,0,0];

    for(let i=0;i<t;i++){
        const r = Math.floor(Math.random()*6)+1;
        counts[r-1]++;
    }

    // Ø­Ø±Ú©Øª Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ
    const rx = Math.floor(Math.random()*360);
    const ry = Math.floor(Math.random()*360);
    dice.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg)`;

    document.getElementById("diceResult").innerText =
        counts.map((v,i)=>`${i+1}: ${v}`).join(" | ");

    drawChart("diceChart",
              [1,2,3,4,5,6],
              counts);
}

//------------------ Ú©ÛŒØ³Ù‡ ØªÙˆÙ¾â€ŒÙ‡Ø§ ------------------
function runBag(){
    const r = +document.getElementById("red").value;
    const b = +document.getElementById("blue").value;
    const g = +document.getElementById("green").value;
    const t = +document.getElementById("bagTrials").value;

    const bag = [];
    for(let i=0;i<r;i++) bag.push("Ù‚Ø±Ù…Ø²");
    for(let i=0;i<b;i++) bag.push("Ø¢Ø¨ÛŒ");
    for(let i=0;i<g;i++) bag.push("Ø³Ø¨Ø²");

    const count = {Ù‚Ø±Ù…Ø²:0, Ø¢Ø¨ÛŒ:0, Ø³Ø¨Ø²:0};

    for(let i=0;i<t;i++){
        const pick = bag[Math.random()*bag.length | 0];
        count[pick]++;
    }

    document.getElementById("bagResult").innerText =
        `Ù‚Ø±Ù…Ø²: ${count.Ù‚Ø±Ù…Ø²} | Ø¢Ø¨ÛŒ: ${count.Ø¢Ø¨ÛŒ} | Ø³Ø¨Ø²: ${count.Ø³Ø¨Ø²}`;

    drawChart("bagChart",
              ["Ù‚Ø±Ù…Ø²","Ø¢Ø¨ÛŒ","Ø³Ø¨Ø²"],
              [count.Ù‚Ø±Ù…Ø², count.Ø¢Ø¨ÛŒ, count.Ø³Ø¨Ø²]);
}
</script>

</body>
</html>
